{"apiVersion":1,"groups":[{"orgId":1,"name":"stat","folder":"status","interval":"10s","rules":[{"uid":"fdtz8l9pezt34e","title":"interface status","condition":"B","data":[{"refId":"A","relativeTimeRange":{"from":600,"to":0},"datasourceUid":"bdrb9n1r5a9kwe","model":{"editorMode":"code","format":"table","intervalMs":1000,"maxDataPoints":43200,"rawQuery":true,"rawSql":"SELECT\r\n  if_name,\r\n  CASE\r\n    WHEN admin_status = 1 AND oper_status = 2 THEN 1\r\n    WHEN admin_status = 1 AND oper_status = 4 THEN 2\r\n    WHEN admin_status = 1 AND oper_status = 6 THEN 3\r\n    WHEN admin_status = 1 AND oper_status = 7 THEN 4\r\n    ELSE 0 \r\n  END AS value\r\nFROM\r\n  tb_if_traffic_hist \r\nWHERE\r\n  arrival_time = (\r\n    SELECT\r\n      MAX(arrival_time)\r\n    FROM\r\n      tb_if_traffic_hist\r\n  )","refId":"A","sql":{"columns":[{"parameters":[],"type":"function"}],"groupBy":[{"property":{"type":"string"},"type":"groupBy"}],"limit":50}}},{"refId":"B","relativeTimeRange":{"from":600,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[0,0],"type":"gt"},"operator":{"type":"when"},"query":{"params":["A"]},"reducer":{"params":[],"type":"sum"},"type":"query"}],"datasource":{"name":"Expression","type":"__expr__","uid":"__expr__"},"expression":"","intervalMs":1000,"maxDataPoints":43200,"refId":"B","type":"classic_conditions"}}],"noDataState":"OK","execErrState":"Error","for":"10s","annotations":{"description":"{{ range $k, $v := $values }}\n{{ if gt $v.Value 3.5 }}\n{{ $v.Labels }} : [하위 interface 오류 발생]\n{{ else if gt $v.Value 2.5 }}\n{{ $v.Labels }} : [interface 구성 요소 누락]\n{{ else if gt $v.Value 1.5 }}\n{{ $v.Labels }} : [interface 확인 불가]\n{{ else if gt $v.Value 0.5 }}\n{{ $v.Labels }} : [interface 문제 발생]\n{{ end }}\n{{ end }}","runbook_url":"","summary":"interface status error"},"labels":{"":""},"isPaused":false,"notification_settings":{"receiver":"ToTel"}}]}]}